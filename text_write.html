<!DOCTYPE html>
<!-- saved from url=(0045)http://js1k.com/2014-dragons/shim-normal.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>JS1k, [COMPO] demo submission [ID]</title>
		<meta charset="utf-8">
    <style>
      html, body { margin: 0; padding: 0; border: 0; }
      #c { display: block; } /* kill scrollbars from hell */
    </style>
	</head>
	<body style="">
		<canvas id="c"></canvas>
		<script>
			var a = document.getElementsByTagName('canvas')[0];
			var b = document.body;
      var d = function(e){ return function(){ e.parentNode.removeChild(e); }; }(a);
      // unprefix some popular vendor prefixed things (but stick to their original name)
      var AudioContext =
        window.AudioContext ||
        window.webkitAudioContext;
      var requestAnimationFrame =
        window.requestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(f){ setTimeout(f, 1000/30); };
      // stretch canvas to screen size (once, wont onresize!)
      a.style.width = (a.width = innerWidth) + 'px';
      a.style.height = (a.height = innerHeight) + 'px';

      var c = a.getContext('2d');


con = console


sw = a.width;
sh = a.height;


// mx = sw /2
// my = sh /2

// window.addEventListener("mousemove", function(e) { 
//   // console.log(e)
//   mx = e.x
//   my = e.y

//   // dx = mx - sw / 2
//   // dy = my - sh / 2
//   // angle = Math.atan(dy/dx) + (dx < 0 ? Math.PI : 0)

//   // distance = Math.sqrt(dx * dx + dy * dy)/ 100

//   // drawGlyph(angle, distance);
// })

// window.addEventListener("mousedown", function(e) { 
//   // console.log(e)
//   mx = e.x
//   my = e.y

//   dx = mx - sw / 2
//   dy = my - sh / 2
//   angle = Math.atan(dy/dx) + (dx < 0 ? Math.PI : 0)

//   distance = Math.sqrt(dx * dx + dy * dy)/ 100

//   drawGlyph(angle, distance);
// })

var shapes = {
  t: [
    [0,0],
    [1,0],
    [1,1],
    [2,1],
    [2,2],
    [1,2],
    [1,3],
    [2,3],
    [2,4],
    [0,4]
  ]
}



function drawGlyph(angle, distance) {


    var rings = 10;

    for ( var j = 0; j < rings; j++ ) {

      base = Math.pow(2, (j + 1) )

      d = base + distance * base;

      x = sw / 2 + Math.cos(angle) * d;
      y = sh / 2 + Math.sin(angle) * d;

      size = d / 50;

      shape = shapes.t;

      c.beginPath();
      c.fillStyle = "hsla(" + ~~(j / rings * 300) + ",100%, 30%, 1)"
      for ( var s = 0, sl = shape.length; s < sl; s++ ) {
        var node = shape[s];
        c.lineTo( x + node[0] * size, y + node[1] * size )
      }
      c.closePath();
      c.fill();

    }
}

p = 0;

function r() {

  a.width = a.width

  p++;

  dots = 10;

  for ( var i = 0; i < dots; i++ ) {

    angle = 100 + i / dots * Math.PI * 2;

    distance = 1

    drawGlyph(angle, distance);
  }

  // requestAnimationFrame(r);
}
r()



// end of submission //
		</script>
	

</body></html>